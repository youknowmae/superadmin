<div class="page-content">
  <div class="tabbed">
    <input type="radio" id="tab1" name="css-tabs" checked="checked">
    <input type="radio" id="tab2" name="css-tabs">
    <input type="radio" id="tab3" name="css-tabs">

    <ul class="tabs">
      <li class="tab"><label for="tab1">Daily Attendance Form</label></li>
      <li class="tab"><label for="tab2">Weekly Accomplishment Form</label></li>
      <li class="tab"><label for="tab3">Performance Evaluation Form</label></li>
    </ul>

    <div class="tab-content">
      <div class="container">
        <table mat-table [dataSource]="dataSource">
            <ng-container matColumnDef="date" >
                <th mat-header-cell *matHeaderCellDef class="col-md-3"> Date </th>
                <td mat-cell *matCellDef="let element" class="col-md-3"> {{ element.date }} </td>
            </ng-container>
        
          <ng-container matColumnDef="arrival_time">
            <th mat-header-cell *matHeaderCellDef class="col-md-3"> Arrival Time </th>
            <td mat-cell *matCellDef="let element" class="col-md-3"> {{ element.arrival_time }} </td>
          </ng-container>

          <ng-container matColumnDef="departure_time">
            <th mat-header-cell *matHeaderCellDef class="col-md-3"> Departure Time </th>
            <td mat-cell *matCellDef="let element" class="col-md-3"> {{ element.departure_time }} </td>
          </ng-container>

          <ng-container matColumnDef="total_hours">
            <th mat-header-cell *matHeaderCellDef class="col-md-3"> Total Hours </th>
            <td mat-cell *matCellDef="let element" class="col-md-3"> {{ element.total_hours }} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns" class="table-header"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="table-items"></tr>
        </table>
        
        <div class="progress">
            <p>Progress {{ progress.total_hours }} hrs / {{ progress.required_hours }} hrs {{ progress.remarks}}</p>
        </div>
        <mat-paginator [pageSizeOptions]="[10]" showFirstLastButtons
        aria-label="Select page of periodic elements">
        </mat-paginator>
      </div>
      <div class="btn">
        <button (click)="Openaddattendace()">Add Attendance</button>
      </div>
    </div>

    <div class="tab-content">
      <div class="accomplishment-container"  *ngFor="let report of accomplishmentReports; index as i">
        <h3>Week {{ i + 1 }}</h3>
        <table>
            <thead>
                <th>Date</th>
                <th>Description of Activities</th>
                <th>Time of Work</th>
                <th>No. of Hours</th>
            </thead>
            <tbody>
                <tr *ngFor="let accomplishment of report.accomplishment_report">
                    <td>{{ accomplishment.date }}</td>
                    <td>{{ accomplishment.activity_description }}</td>
                    <td>{{ accomplishment.arrival_time }} - {{ accomplishment.departure_time }}</td>
                    <td>{{ accomplishment.total_hours }}</td>
                </tr>
                <tr>
                    <td colspan="4"><p class="total-hours">Total: {{ report.accumulated_hours }} Hours</p></td>
                </tr>
            </tbody>
        </table>
      </div>
    </div>

    <div class="tab-content">
      <div class="evaluation-container">
        <p><strong>Instruction:</strong> This form must be sent to your supervisor to evaluate your performance 
          throughout your OJT journey. Once your supervisor has completed 
          the form, click "Done" to notify your OJT adviser. Your adviser 
          will then review the responses to confirm that the form has been 
          properly filled out by your supervisor. Upon verification, you will 
          be approved to proceed with the OJT Exit Poll.</p>
        <h2><strong>Evaluation Link: </strong> <a href="https://forms.gle/gZkbuzAt8Cr4wQwT8" target="_blank">https://forms.gle/gZkbuzAt8Cr4wQwT8</a></h2>

        <div class="btn">
          <button (click)="submitEvaluation()">Accomplished</button>
        </div>
      </div>
    </div>
  </div>
</div>
